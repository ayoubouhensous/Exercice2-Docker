# Exercice 2 - Manipulation avancée des conteneurs

# 1. Lancer un conteneur Ubuntu en mode interactif
docker run -it --name myubuntu ubuntu

# 2. Installer curl et vim dans le conteneur
apt update
apt install -y curl vim

# 3. Créer un fichier test.txt avec du contenu
echo "Bonjour Docker!" > test.txt
cat test.txt

# 4. Sortir du conteneur sans l’arrêter
# (Dans le conteneur, faire Ctrl+P puis Ctrl+Q)

# 5. Copier le fichier test.txt du conteneur vers la machine
docker cp myubuntu:/test.txt ./test.txt

# 6. Modifier le fichier sur la machine (avec un éditeur de texte)
# puis recopier dans le conteneur
docker cp ./test.txt myubuntu:/test.txt

# 7. Reconnecter au conteneur et vérifier les modifications
docker exec -it myubuntu bash
cat test.txt

# 8. Créer une nouvelle image à partir du conteneur modifié
docker commit myubuntu ubuntu:custom

# 9. Lancer un nouveau conteneur basé sur l’image personnalisée
docker run -it --name mycustom ubuntu:custom

# 10. Vérifier que les modifications sont bien présentes
cat test.txt

# Bonus : explorer les statistiques en temps réel
docker stats

